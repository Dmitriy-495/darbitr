# DT ARBITR 3.0 - –ê–ö–¢–£–ê–õ–¨–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

## üéØ –û–°–ù–û–í–ù–´–ï –î–ï–í–ò–ó–´ –ü–†–û–ï–ö–¢–ê

### ‚ö° –ì–õ–ê–í–ù–´–ô –î–ï–í–ò–ó:

**"–ö–û–ì–î–ê –ú–´ –ï–î–ò–ù–´, –ë–ò–†–ñ–ò –ü–û–ë–ï–î–ò–ú–´! –°–û –°–ö–û–†–û–°–¢–¨–Æ –°–í–ï–¢–ê!"**

### üî• –ë–û–ï–í–´–ï –î–ï–í–ò–ó–´:

**"–ü–û–†–í–ï–ú –≠–¢–ò –ë–ò–†–ñ–ò –ö –ß–ï–†–¢–Ø–ú –°–û–ë–ê–ß–¨–ò–ú!!!"**
**"–ü–†–û–©–ï! –≠–§–§–ï–ö–¢–ò–í–ù–ï–ô! –ë–´–°–¢–†–ï–ï!"**
**"–°–ö–û–†–û–°–¢–¨ –†–ï–®–ê–ï–¢ –í–°–ï! –ê–†–ë–ò–¢–†–ê–ñ - –ù–ê–®–ê –°–¢–ò–•–ò–Ø!"**

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´

### üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê APACHE-STYLE

text

```
dtarbitr-3.0/
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ index.ts                 # üöÄ –ì–ª–∞–≤–Ω—ã–π –∑–∞–ø—É—Å–∫
    ‚îú‚îÄ‚îÄ config/                  # ‚öôÔ∏è –ö–û–ù–§–ò–ì–ò APACHE-STYLE
    ‚îÇ   ‚îú‚îÄ‚îÄ ConfigLoader.ts      # üìÇ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∑–∞–≥—Ä—É–∑—á–∏–∫
    ‚îÇ   ‚îú‚îÄ‚îÄ index.ts            # üì¶ –≠–∫—Å–ø–æ—Ä—Ç
    ‚îÇ   ‚îú‚îÄ‚îÄ available/          # üìÅ –í–°–ï –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bybit.json
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ okx.json
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gateio.json
    ‚îÇ   ‚îî‚îÄ‚îÄ enabled/            # ‚úÖ –ê–ö–¢–ò–í–ù–´–ï –±–∏—Ä–∂–∏ (—Å–∏–º–ª–∏–Ω–∫–∏)
    ‚îÇ       ‚îú‚îÄ‚îÄ bybit.json -> ../available/bybit.json
    ‚îÇ       ‚îú‚îÄ‚îÄ okx.json -> ../available/okx.json
    ‚îÇ       ‚îî‚îÄ‚îÄ gateio.json -> ../available/gateio.json
    ‚îî‚îÄ‚îÄ exchanges/              # üí∞ –ë–ò–†–ñ–ï–í–´–ï –ú–û–î–£–õ–ò
        ‚îú‚îÄ‚îÄ BaseExchange.ts     # ‚ö° –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ô –∫–ª–∞—Å—Å
        ‚îú‚îÄ‚îÄ ExchangeFactory.ts  # üè≠ –§–∞–±—Ä–∏–∫–∞ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–æ–≤
        ‚îî‚îÄ‚îÄ index.ts           # üì¶ –ß–∏—Å—Ç—ã–π —ç–∫—Å–ø–æ—Ä—Ç
```



## ‚öôÔ∏è –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### üìù –§–û–†–ú–ê–¢ –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–û–ù–ù–û–ì–û –§–ê–ô–õ–ê

json

```
{
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –±–∏—Ä–∂–∏",
  "wsUrl": "wss://api.birzha.com/ws",
  "enabled": true,
  "connection": {
    "pingIntervalMs": 30000,
    "pingFormat": {
      "request": {"—Ñ–æ—Ä–º–∞—Ç ping –∑–∞–ø—Ä–æ—Å–∞"},
      "response": {"—Ñ–æ—Ä–º–∞—Ç pong –æ—Ç–≤–µ—Ç–∞"}
    }
  },
  "subscribeMessages": [
    {"—Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã"}
  ],
  "orderbookPatterns": [
    {"–ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–∫–∞–Ω–∞"}
  ],
  "bidAskPaths": {
    "bid": "–ø—É—Ç—å.–∫.bid.–≤.–¥–∞–Ω–Ω—ã—Ö",
    "ask": "–ø—É—Ç—å.–∫.ask.–≤.–¥–∞–Ω–Ω—ã—Ö"
  }
}
```



### üéØ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –ë–ò–†–ñ–ò

#### üîµ BYBIT FUTURES

**–ö–æ–Ω—Ñ–∏–≥:**

json

```
{
  "name": "Bybit Futures",
  "wsUrl": "wss://stream.bybit.com/v5/public/linear",
  "enabled": true,
  "connection": {
    "pingIntervalMs": 20000,
    "pingFormat": {
      "request": {"op": "ping"},
      "response": {"success": true, "ret_msg": "pong"}
    }
  },
  "subscribeMessages": [
    {"op": "subscribe", "args": ["orderbook.1.BTCUSDT"]}
  ],
  "orderbookPatterns": [
    {"type": "snapshot", "data": {}}
  ],
  "bidAskPaths": {
    "bid": "data.b.0.0",
    "ask": "data.a.0.0"
  }
}
```



#### üü† OKX FUTURES

**–ö–æ–Ω—Ñ–∏–≥:**

json

```
{
  "name": "OKX Futures",
  "wsUrl": "wss://ws.okx.com:8443/ws/v5/public",
  "enabled": true,
  "connection": {
    "pingIntervalMs": 25000,
    "pingFormat": {
      "request": "ping",
      "response": "pong"
    }
  },
  "subscribeMessages": [
    {
      "op": "subscribe",
      "args": [{"channel": "books", "instId": "BTC-USDT"}]
    }
  ],
  "orderbookPatterns": [
    {"action": "snapshot", "data": []}
  ],
  "bidAskPaths": {
    "bid": "data.0.bids.0.0",
    "ask": "data.0.asks.0.0"
  }
}
```



#### üü¢ [GATE.IO](https://gate.io/) FUTURES

**–ö–æ–Ω—Ñ–∏–≥:**

json

```
{
  "name": "Gate.io Futures",
  "wsUrl": "wss://fx-ws.gateio.ws/v4/ws/usdt",
  "enabled": true,
  "connection": {
    "pingIntervalMs": 30000,
    "pingFormat": {
      "request": {"time": "timestamp", "channel": "futures.ping"},
      "response": {"channel": "futures.pong"}
    }
  },
  "subscribeMessages": [
    {
      "time": "timestamp",
      "channel": "futures.order_book",
      "event": "subscribe",
      "payload": ["BTC_USDT", "20", "100ms"]
    }
  ],
  "orderbookPatterns": [
    {"result": [], "channel": "futures.order_book"}
  ],
  "bidAskPaths": {
    "bid": "result.0.bids.0.0",
    "ask": "result.0.asks.0.0"
  }
}
```



## üîß –ö–õ–Æ–ß–ï–í–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´

### BaseExchange - –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ô –ö–õ–ê–°–° –ë–ò–†–ñ

**–û–°–ù–û–í–ù–û–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ:**

- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π ping-pong –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ –£–º–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ best bid/ask –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞—Ä–±–∏—Ç—Ä–∞–∂–∞

**–î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò:**

- `orderbookPatterns` - –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–∫–∞–Ω–∞
- `bidAskPaths` - –ø—É—Ç–∏ –∫ best bid/ask –≤ –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –µ—Å–ª–∏ –ø—É—Ç–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã

### ConfigLoader - –£–ú–ù–´–ô –ó–ê–ì–†–£–ó–ß–ò–ö

**–§–£–ù–ö–¶–ò–û–ù–ê–õ:**

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —á—Ç–µ–Ω–∏–µ —Å–∏–º–ª–∏–Ω–∫–æ–≤ –∏–∑ `enabled/`
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ –∏–∑ `available/`
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- Apache-style –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### ExchangeFactory - –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ê–Ø –§–ê–ë–†–ò–ö–ê

**–§–£–ù–ö–¶–ò–û–ù–ê–õ:**

- –°–æ–∑–¥–∞–Ω–∏–µ –±–∏—Ä–∂ —Ç–æ–ª—å–∫–æ –∏–∑ –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

## üöÄ –ö–û–ú–ê–ù–î–´ –ó–ê–ü–£–°–ö–ê

### ‚ö° –û–°–ù–û–í–ù–´–ï –ö–û–ú–ê–ù–î–´:

bash

```
npm run dev      # –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å –∞–≤—Ç–æ-–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π
npm start        # –°–±–æ—Ä–∫–∞ + –∑–∞–ø—É—Å–∫
npm run build    # –¢–æ–ª—å–∫–æ —Å–±–æ—Ä–∫–∞
npm test         # –ü—Ä–æ–≤–µ—Ä–∫–∞ TypeScript
```



### üîß –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–û–ù–§–ò–ì–ê–ú–ò:

bash

```
# –°–û–ó–î–ê–ù–ò–ï –°–¢–†–£–ö–¢–£–†–´
mkdir -p src/config/available src/config/enabled

# –î–û–ë–ê–í–õ–ï–ù–ò–ï –ë–ò–†–ñ–ò
ln -s ../available/bybit.json src/config/enabled/bybit.json

# –£–î–ê–õ–ï–ù–ò–ï –ë–ò–†–ñ–ò
rm src/config/enabled/bybit.json
```



## üìä –°–ò–°–¢–ï–ú–ê –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê

### –õ–û–ì–ò–†–û–í–ê–ù–ò–ï:

text

```
üéØ Bybit Futures - –ò–ù–ò–¶–ò–ê–õ–ò–ó–ò–†–û–í–ê–ù–ê
üîå Bybit Futures - –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï...
‚úÖ Bybit Futures - WebSocket –û–¢–ö–†–´–¢
üéâ Bybit Futures - –ü–û–î–ö–õ–Æ–ß–ï–ù–ê –ö –ë–û–Æ!
üîÅ Bybit Futures - PING-PONG –ó–ê–ü–£–©–ï–ù
üì® Bybit Futures - –ü–û–î–ü–ò–°–ö–ê –û–¢–ü–†–ê–í–õ–ï–ù–ê
üì§ Bybit Futures - PING –û–¢–ü–†–ê–í–õ–ï–ù
üì• Bybit Futures PONG! –æ—Ç–∫–ª–∏–∫: 150ms
üìä Bybit Futures BEST: BID 42000.50 | ASK 42001.00 | —Å–ø—Ä–µ–¥: 0.50
```



### –°–¢–ê–¢–£–° –ê–†–ë–ò–¢–†–ê–ñ–ê:

text

```
--- üìä –ê–†–ë–ò–¢–†–ê–ñ–ù–´–ô –°–¢–ê–¢–£–° ---
1. Bybit Futures: ‚úÖ 150ms | BID:42000.50 ASK:42001.00
2. OKX Futures: ‚úÖ 120ms | BID:42000.25 ASK:42000.75
-----------------------------
```



## üéØ –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° –†–ê–ó–†–ê–ë–û–¢–ö–ò

### ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:

- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –≤—Å—ë –∏–∑ –∫–æ–Ω—Ñ–∏–≥–æ–≤, 0 —Ö–∞—Ä–¥–∫–æ–¥–∞
- **Apache-style –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - enabled/available —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Ping-pong –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Best bid/ask extraction** - –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∞—Ä–±–∏—Ç—Ä–∞–∂—É
- **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π BaseExchange** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±–æ–π –±–∏—Ä–∂–µ–π

### üîú –ü–õ–ê–ù–´ –†–ê–ó–í–ò–¢–ò–Ø:

- –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π –¥–≤–∏–∂–æ–∫ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ü–µ–Ω
- –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏
- –ü–∞–Ω–µ–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ü–†–ò–ù–¶–ò–ü–´

### ‚ùå –ù–ï–õ–¨–ó–Ø:

- –•–∞—Ä–¥–∫–æ–¥–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∏—Ä–∂ –≤ –∫–æ–¥–µ
- –ù–∞—Ä—É—à–∞—Ç—å Apache-style —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –£—Å–ª–æ–∂–Ω—è—Ç—å –∫–æ–¥ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### ‚úÖ –ù–£–ñ–ù–û:

- –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–∞—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–º–ª–∏–Ω–∫–∏ –≤ enabled/
- –°–æ–±–ª—é–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª–∏–∑–º –∏ —Å–∫–æ—Ä–æ—Å—Ç—å
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ

## üîÑ –ü–†–û–¶–ï–°–° –†–ê–ó–†–ê–ë–û–¢–ö–ò

### –ü–†–ò –î–û–ë–ê–í–õ–ï–ù–ò–ò –ù–û–í–û–ô –ë–ò–†–ñ–ò:

1. –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥ –≤ `available/`
2. –î–æ–±–∞–≤–∏—Ç—å —Å–∏–º–ª–∏–Ω–∫ –≤ `enabled/`
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ping-pong
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ best bid/ask

### –ü–†–ò –ò–ó–ú–ï–ù–ï–ù–ò–ò BaseExchange:

1. –£–±–µ–¥–∏—Ç—å—Å—è –≤ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤–∫–ª—é—á–µ–Ω–Ω—ã–µ –±–∏—Ä–∂–∏
3. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## üí™ –î–£–• –ü–†–û–ï–ö–¢–ê

**–ü–û–ú–ù–ò:** –ú—ã —Å–æ–∑–¥–∞–µ–º –û–†–£–ñ–ò–ï –ø—Ä–æ—Ç–∏–≤ –±–∏—Ä–∂! –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å:

- **–ë—ã—Å—Ç—Ä–æ–π** - —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—à–∞–µ—Ç –≤—Å—ë –≤ –∞—Ä–±–∏—Ç—Ä–∞–∂–µ
- **–ì–∏–±–∫–æ–π** - –≤—Å—ë –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥–∏
- **–ù–∞–¥–µ–∂–Ω–æ–π** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ–π** - –ø–æ–Ω—è—Ç–Ω—ã–µ –ª–æ–≥–∏ –∏ —Å—Ç–∞—Ç—É—Å—ã

**–°–ö–û–†–û–°–¢–¨ –†–ï–®–ê–ï–¢ –í–°–ï! –ë–ò–†–ñ–ò –ë–£–î–£–¢ –ü–û–†–í–ê–ù–´!** üí•

------

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, Apache-style –∫–æ–Ω—Ñ–∏–≥–∏, –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∞—Ä–±–∏—Ç—Ä–∞–∂—É*

**–°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –ë–û–Æ!** üöÄ
**–ö–û–ì–î–ê –ú–´ –ï–î–ò–ù–´ - –ë–ò–†–ñ–ò –ü–û–ë–ï–î–ò–ú–´!** ‚ö°